{"version":3,"file":"sld-BWeuuAeF.js","sources":["../../js/sld.js"],"sourcesContent":["import ImageWMS from 'ol/source/ImageWMS.js';\nimport Map from 'ol/Map.js';\nimport View from 'ol/View.js';\nimport { Image as ImageLayer } from 'ol/layer.js';\n\nconst mapserverUrl = import.meta.env.VITE_MAPSERVER_BASE_URL;\nconst appUrl = import.meta.env.VITE_APP_URL;\nconst mapfilesPath = import.meta.env.VITE_MAPFILES_PATH;\n\nconst wmsSource = new ImageWMS({\n    url: mapserverUrl + mapfilesPath + 'sld.map&',\n    params: {\n        'LAYERS': 'countries',\n        'SLD': appUrl + 'data/sld.xml',\n        'SLD_VERSION': '1.1.0'\n    },\n    ratio: 1\n});\n\nconst updateLegend = function (resolution) {\n    const graphicUrl = wmsSource.getLegendUrl(resolution);\n    const img = document.getElementById('legend');\n    img.src = graphicUrl;\n};\n\nconst layers = [\n    new ImageLayer({\n        extent: [-20037508.34, - 20048966.1, 20037508.34, 20048966.1],\n        source: wmsSource\n    }),\n];\nconst map = new Map({\n    layers: layers,\n    target: 'map',\n    view: new View({\n        center: [881083.0, 7481426.5],\n        zoom: 4,\n    }),\n});\n\n\n// Initial legend\nconst resolution = map.getView().getResolution();\nupdateLegend(resolution);\n\n// Update the legend when the resolution changes\nmap.getView().on('change:resolution', function (event) {\n    const resolution = event.target.getResolution();\n    updateLegend(resolution);\n});"],"names":["mapserverUrl","appUrl","mapfilesPath","wmsSource","ImageWMS","updateLegend","resolution","graphicUrl","img","layers","ImageLayer","map","Map","View","event"],"mappings":"2IAKA,MAAMA,EAAe,8CACfC,EAAS,qEACTC,EAAe,wCAEfC,EAAY,IAAIC,EAAS,CAC3B,IAAKJ,EAAeE,EAAe,WACnC,OAAQ,CACJ,OAAU,YACV,IAAOD,EAAS,eAChB,YAAe,OACnB,EACA,MAAO,CACX,CAAC,EAEKI,EAAe,SAAUC,EAAY,CACjC,MAAAC,EAAaJ,EAAU,aAAaG,CAAU,EAC9CE,EAAM,SAAS,eAAe,QAAQ,EAC5CA,EAAI,IAAMD,CACd,EAEME,EAAS,CACX,IAAIC,EAAW,CACX,OAAQ,CAAC,eAAc,cAAc,cAAa,YAAU,EAC5D,OAAQP,CAAA,CACX,CACL,EACMQ,EAAM,IAAIC,EAAI,CAChB,OAAAH,EACA,OAAQ,MACR,KAAM,IAAII,EAAK,CACX,OAAQ,CAAC,OAAU,WAAS,EAC5B,KAAM,CAAA,CACT,CACL,CAAC,EAIKP,EAAaK,EAAI,QAAQ,EAAE,cAAc,EAC/CN,EAAaC,CAAU,EAGvBK,EAAI,QAAQ,EAAE,GAAG,oBAAqB,SAAUG,EAAO,CAC7CR,MAAAA,EAAaQ,EAAM,OAAO,cAAc,EAC9CT,EAAaC,CAAU,CAC3B,CAAC"}